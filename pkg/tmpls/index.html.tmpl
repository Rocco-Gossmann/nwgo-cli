<!DOCTYPE html>
<html lang="en">
	<head><title>%%ProjectTitle%%</title></head>
	<body style="display: block;padding: 0px;margin: 0px">

		<iframe id="main-frame" style="display: block; position: absolute; inset: 0px; width: 100vw; height:100vh; border: none"></iframe>

		<script type="module">

			const { spawn } = require('node:child_process');
			const runcmd = spawn('%%BackendBinary%%');

			runcmd.stdout.on("data", (data) => {
				nw.Window.get().on("close", () => {
					window.location.href=`http://127.0.0.1:${data}/__stop_server__`
				} )
				document.querySelector("#main-frame").src = `http://127.0.0.1:${data}/__start_server__`
			})

			runcmd.stderr.on("data", (data) => console.error(`${data}`) )

		</script>
	</body>
</html>
